{% extends "::layout.html.twig" %}

{% block title %}
   {{ parent() }}
{% endblock %}


{% block stylesheets %}
  {{ parent() }}
{% endblock %}

{% block body %}

  <section class="container-fluid " >
    <div  >
      <div class="row" >
        <div class="col-xl-12 text-center pageTitle" id="headerFond">
          <h1>{{ 'steps.h1'|trans }}</h1>
        </div>
      </div>
    </div>  

      
      <div class="row ">

            <section class="col-10 offset-1 tunnelSection" >
              <ul class="row tunnel list-group text-center d-flex  justify-content-center">
                <li class="step first  list-group-item d-none d-md-block  col-md-2 " >
                      <div class="row">
                        <div class="col-md-2 ">
                          <i class="fa fa-calendar-plus-o" aria-hidden="true"></i>
                        </div>
                        <div class="col-md-10 ">
                          <p> {{ 'buyingProcess.step1'|trans }} <br />
                          <span>{{ 'buyingProcess.mark1'|trans }}</span> </p>
                        </div>
                      </div>
                </li>
                <li class="step list-group-item d-none d-md-block col-md-2">
                      <div class="row">
                        <div class="col-md-2 ">
                          <i class="fa fa-user-plus"  aria-hidden="true"></i>
                        </div>
                        <div class="col-md-10 ">
                          <p> {{ 'buyingProcess.step2'|trans }}<br />
                            <span>{{ 'buyingProcess.mark2'|trans }}</span> </p>
                        </div>
                      </div>
                </li>
                <li class="step  list-group-item   active d-md-block col-md-2 ">
                      <div class="row">
                        <div class="col-md-2 ">
                          <i class="fa fa-file-text-o" aria-hidden="true"></i>
                        </div>
                        <div class="col-md-10 ">
                          <p> {{ 'buyingProcess.step3'|trans }}<br />
                          <span>{{ 'buyingProcess.mark3'|trans }}</span> </p>
                        </div>
                      </div>  
                </li>
                <li class="step  list-group-item   d-none d-md-block col-md-2 ">
                      <div class="row">
                        <div class="col-md-2 ">
                          <i class="fa fa-credit-card" aria-hidden="true"></i>
                        </div>
                        <div class="col-md-10 ">
                          <p> {{ 'buyingProcess.step4'|trans }}<br />
                            <span>{{ 'buyingProcess.mark4'|trans }}</span> </p>
                        </div>
                      </div> 
                </li>
                <li class="step  last list-group-item  d-none d-md-block col-md-2 ">
                      <div class="row">
                        <div class="col-md-2 ">
                          <i class="fa fa-check" aria-hidden="true"></i>
                        </div>
                        <div class="col-md-10 ">
                          <p> {{ 'buyingProcess.step5'|trans }}<br />
                            <span>{{ 'buyingProcess.mark5'|trans }}</span> </p>
                        </div>
                      </div> 
                </li>
              </ul>
            </section>

          <div class="col-8 offset-2 greybackground recapContent">
            <div class="row" >
              <div class="col-md-12 text-center" >
                  <p>{{ 'recap.check'|trans }}</p>
                  <p><i class="fa fa-exclamation-triangle" aria-hidden="true"></i>{{ 'general.ticketsForUnder4'|trans }}</p>
              </div>

              <div class="col-md-6 offset-md-4" >
                  <p><ion-icon  name="calendar"></ion-icon> {{ 'recap.visitDay'|trans }}{{ booking.visitDay | date('d/m/Y') }}</p>
                  <p><i class="fa fa-clock-o" aria-hidden="true"></i> {{ 'recap.duration'|trans }}{{ durationName}}</p>
                  <p><i class="fa fa-envelope-o" aria-hidden="true"></i> {{ 'recap.email'|trans }} {{ booking.email }} </p> 
              </div>

              <div class="col-md-12 ticketsDetails" >
                <div class="row" >
                  <div class="col-md-6 ">
                    <p>{{ 'recap.tickets'|trans }}</p>
                  </div>
                  <div class="col-md-2 offset-md-3 recapPrice">
                    <p>{{ 'recap.price'|trans }}</p>
                  </div>
                  <div class="col-md-12 ">
                    <hr>
                  </div>
                </div>
                <div class="row" >
                {% set somme = 0 %}  
                  {% for ticket in tickets %}
                    <div class="col-md-6 ">
                      <div class="row" > 
                        <div class="col-md-1 text-right">
                          <i class="fa fa-ticket "></i>
                        </div>
                         <div class="col-md-11">
                          <p> {{ 'recap.visitor'|trans }}{{ ticket.visitor.visitorFirstName|capitalize }} {{ ticket.visitor.visitorName |upper  }}  </p>
                          <p>{{ 'recap.rate'|trans }}{{ ticket.rate.rateName }}  </p>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-2 offset-md-3 ">
                      <p>{{ ticket.price  | number_format(2, ',', ' ')}} €</p>
                      {% set somme = somme+ ticket.price %}
                    </div>
                    <div class="col-md-12 ">
                      <hr>
                    </div>
                  {% endfor %}
                    <div class="col-md-2 offset-md-9 ">
                        <p>{{somme | number_format(2, ',', ' ')}} €</p>
                    </div>
                    <div class="col-md-1">
                        <p>{{ 'recap.total'|trans }}</p>
                    </div>
                    <div class="col-md-12 ">
                      {{ include("OCCoreBundle:Booking:formRecap.html.twig") }}
                    </div>
                  </div>    

                </div>
              </div>    

            </div>
          </div>
  </section>

{% endblock %}


